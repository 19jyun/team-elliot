(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8719],{2690:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>h});var n=s(5155),l=s(4582),a=s(2115),i=s(7786),o=s(4522),r=s(714),c=s(6852),d=s(1785),u=s(6344),m=s(9305);function h(){var e,t;let{data:s,status:h}=(0,l.wV)(),x=(0,l.Rt)(),{navigation:f}=(0,u.nm)(),{navigateToSubPage:p}=f,{calendarSessions:v,loadSessions:N,isLoading:S,error:D}=(0,i.u)("TEACHER"),[C,g]=(0,a.useState)(null),[E,T]=(0,a.useState)(!1),[y,j]=(0,a.useState)(null),[w,b]=(0,a.useState)(!1);(0,a.useEffect)(()=>{N()},[N]);let k=(0,a.useMemo)(()=>{let e=new Date;return{startDate:new Date(e.getFullYear(),e.getMonth(),1),endDate:new Date(e.getFullYear(),e.getMonth()+2,0)}},[]),A=v.map(m.Td),F=(0,m.DV)({isOpen:w,session:y?(0,m.pu)(y):null,onClose:()=>b(!1)});return"loading"===h||S?(0,n.jsx)("div",{className:"flex items-center justify-center min-h-full",children:(0,n.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-stone-700"})}):D?(null==D||null==(t=D.response)?void 0:t.status)===401?(x({redirect:!0,callbackUrl:"/auth"}),null):(0,n.jsxs)("div",{className:"flex flex-col items-center justify-center min-h-full",children:[(0,n.jsx)("p",{className:"text-red-500",children:"데이터를 불러오는데 실패했습니다."}),(0,n.jsx)("button",{onClick:()=>N(),className:"mt-4 px-4 py-2 bg-stone-700 text-white rounded-lg hover:bg-stone-800",children:"다시 시도"})]}):(0,n.jsxs)("div",{className:"flex flex-col h-full bg-white",children:[(0,n.jsxs)("header",{className:"flex-shrink-0",children:[(0,n.jsx)("div",{className:"flex flex-col px-5 py-6",children:(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)("div",{children:[(0,n.jsxs)("h1",{className:"text-2xl font-bold text-stone-700",children:["안녕하세요, ",null==s||null==(e=s.user)?void 0:e.name," 선생님!"]}),(0,n.jsx)("p",{className:"mt-2 text-stone-500",children:"오늘도 즐거운 수업되세요!"})]}),(0,n.jsx)("button",{onClick:()=>{p("teacher-classes")},className:"flex items-center justify-center w-12 h-12 bg-stone-100 rounded-full hover:bg-stone-200 transition-colors","aria-label":"담당 클래스 보기",children:(0,n.jsx)("svg",{className:"w-6 h-6 text-stone-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})})]})}),(0,n.jsx)("div",{className:"flex flex-col w-full bg-white text-stone-700",style:{height:"calc(100vh - 450px)"},children:(0,n.jsx)(c.S,{mode:"teacher-view",sessions:A,selectedSessionIds:new Set,onSessionSelect:()=>{},onDateClick:e=>{g(new Date(e)),T(!0)},calendarRange:k,children:(0,n.jsx)(d.q,{})})})]}),(0,n.jsx)(o.A,{isOpen:E,selectedDate:C,onClose:()=>{T(!1),g(null)},onSessionClick:e=>{j(v.find(t=>t.id===e.id)),b(!0)},role:"teacher"}),(0,n.jsx)(r.V,{isOpen:F.isOpen,sessionId:(null==y?void 0:y.id)||null,onClose:F.onClose,role:"teacher"})]})}},9305:(e,t,s)=>{"use strict";function n(e){return({BEGINNER:"#F4E7E7",INTERMEDIATE:"#FBF4D8",ADVANCED:"#CBDFE3"})[e]||"#F8F5E9"}s.d(t,{Td:()=>i,pu:()=>a,rk:()=>r,mB:()=>d,DV:()=>c});var l=s(4723);function a(e){var t;return{...e,displayDate:("string"==typeof(t=e.date)?new Date(t):t).toLocaleDateString("ko-KR",{year:"numeric",month:"long",day:"numeric",weekday:"long"}),displayTime:"".concat((0,l.fU)(e.startTime)," - ").concat((0,l.fU)(e.endTime)),displayCapacity:"".concat(e.enrollmentCount," / ").concat(e.class.maxStudents,"명"),levelColor:n(e.class.level),isFull:e.enrollmentCount>=e.class.maxStudents,canManage:!0}}function i(e){return{id:e.id,date:e.date,startTime:e.startTime,endTime:e.endTime,classId:e.class.id,class:{id:e.class.id,className:e.class.className,level:e.class.level,tuitionFee:"0",teacher:e.class.teacher},currentStudents:e.enrollmentCount,maxStudents:e.class.maxStudents,isEnrollable:!0,isFull:e.enrollmentCount>=e.class.maxStudents,isPastStartTime:new Date(e.date+"T"+e.startTime)<new Date,isAlreadyEnrolled:!1,studentEnrollmentStatus:null,enrollments:[]}}function o(e){var t,s,a;return{id:e.id,className:e.className,level:e.level,dayOfWeek:e.dayOfWeek,startTime:e.startTime,endTime:e.endTime,maxStudents:e.maxStudents,currentStudents:e.currentStudents,tuitionFee:Number(e.tuitionFee),description:e.description,displayLevel:({BEGINNER:"초급",INTERMEDIATE:"중급",ADVANCED:"고급"})[t=e.level]||t,displayDayOfWeek:({MONDAY:"월",TUESDAY:"화",WEDNESDAY:"수",THURSDAY:"목",FRIDAY:"금",SATURDAY:"토",SUNDAY:"일"})[s=e.dayOfWeek]||s,displayTimeRange:"".concat((0,l.fU)(e.startTime)," - ").concat((0,l.fU)(e.endTime)),displayStudentCount:"".concat(e.currentStudents," / ").concat(e.maxStudents,"명"),displayTuitionFee:(a=Number(e.tuitionFee),"".concat(a.toLocaleString(),"원")),levelColor:n(e.level),isFull:e.currentStudents>=e.maxStudents,canManage:!0}}function r(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{...function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{isLoading:e,error:t,isReady:!e&&!t}}(t,s),classes:e.map(o),hasClasses:e.length>0,totalClasses:e.length}}function c(e){return{isOpen:e.isOpen,session:e.session,onClose:e.onClose}}function d(e){return{isOpen:e.isOpen,selectedClass:e.selectedClass,onClose:e.onClose}}},9681:(e,t,s)=>{Promise.resolve().then(s.bind(s,2690))}},e=>{e.O(0,[5125,8720,5239,1213,6743,131,2355,9027,4575,6344,6334,2052,6587,714,8441,1255,7358],()=>e(e.s=9681)),_N_E=e.O()}]);