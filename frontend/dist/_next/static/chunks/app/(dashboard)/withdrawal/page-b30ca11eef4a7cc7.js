(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[64],{63:(e,t,s)=>{"use strict";var l=s(7260);s.o(l,"useRouter")&&s.d(t,{useRouter:function(){return l.useRouter}})},996:(e,t,s)=>{Promise.resolve().then(s.bind(s,6115))},6115:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>c});var l=s(5155),r=s(2115),o=s(63),i=s(4582),n=s(8720),d=s(5125);let a=[{id:1,text:"더 이상 서비스를 이용하지 않아요",selected:!1},{id:2,text:"서비스가 불만족스러워요",selected:!1},{id:3,text:"다른 서비스를 이용하고 싶어요",selected:!1},{id:4,text:"기타",selected:!1}];function c(){let e=(0,o.useRouter)(),t=(0,i.Rt)(),{data:s}=(0,i.wV)(),[c,u]=(0,r.useState)(null),[x,h]=(0,r.useState)(!1),f=async()=>{var l,r,o;if(!c)return void n.oR.error("탈퇴 사유를 선택해주세요");if(confirm("정말로 탈퇴하시겠습니까? 이 작업은 되돌릴 수 없습니다.")){h(!0);try{await d.A.post("".concat("http://localhost:3001","/auth/withdrawal"),{reason:a[c-1].text},{headers:{Authorization:"Bearer ".concat(null==s||null==(l=s.user)?void 0:l.id)}}),await t({redirect:!1}),n.oR.success("회원 탈퇴가 완료되었습니다"),e.push("/auth")}catch(e){d.A.isAxiosError(e)?n.oR.error((null==(o=e.response)||null==(r=o.data)?void 0:r.message)||"회원 탈퇴 중 오류가 발생했습니다"):n.oR.error("알 수 없는 오류가 발생했습니다")}finally{h(!1)}}};return(0,l.jsxs)("div",{className:"flex overflow-hidden flex-col pb-2 mx-auto w-full bg-white max-w-[480px]",children:[(0,l.jsxs)("div",{className:"flex justify-between items-center w-full bg-white min-h-[60px] px-4",children:[(0,l.jsx)("button",{onClick:()=>{e.back()},className:"p-2 hover:bg-gray-100 rounded-full",children:(0,l.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,l.jsx)("path",{d:"M15 19L8 12L15 5",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),(0,l.jsx)("div",{className:"text-base font-semibold text-stone-900",children:"회원 탈퇴"}),(0,l.jsx)("div",{className:"w-10"})," "]}),(0,l.jsx)("div",{className:"px-5 py-3.5",children:(0,l.jsxs)("h1",{className:"text-xl font-semibold leading-7 text-neutral-800",children:["회원탈퇴를 하는",(0,l.jsx)("br",{}),"이유를 알려주세요"]})}),(0,l.jsx)("div",{className:"flex flex-col px-5 mt-1.5 w-full text-base font-semibold",children:a.map(e=>(0,l.jsxs)("div",{className:"flex gap-10 justify-between items-center py-4 px-5 w-full rounded-lg cursor-pointer mb-3 ".concat(c===e.id?"bg-stone-200 border border-solid border-stone-700 text-stone-700":"bg-neutral-50 hover:bg-stone-100"),onClick:()=>{u(e.id)},children:[(0,l.jsx)("div",{children:e.text}),c===e.id&&(0,l.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,l.jsx)("path",{d:"M20 6L9 17L4 12"})})]},e.id))}),(0,l.jsx)("div",{className:"flex flex-col mt-auto w-full",children:(0,l.jsx)("div",{className:"flex px-5 pt-2.5 pb-4 w-full",children:(0,l.jsx)("button",{onClick:f,disabled:!c||x,className:"w-full py-4 text-base font-semibold text-white rounded-lg bg-stone-700 hover:bg-stone-800 disabled:bg-stone-400 disabled:cursor-not-allowed",children:x?"처리중...":"탈퇴하기"})})})]})}}},e=>{e.O(0,[5125,8720,4575,8441,1255,7358],()=>e(e.s=996)),_N_E=e.O()}]);