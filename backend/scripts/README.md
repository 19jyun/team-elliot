# í†µí•© í…ŒìŠ¤íŠ¸ ìŠ¤í¬ë¦½íŠ¸

ì´ ë””ë ‰í† ë¦¬ì—ëŠ” í†µí•© í…ŒìŠ¤íŠ¸ í™˜ê²½ì„ ì„¤ì •í•˜ê³  ê´€ë¦¬í•˜ê¸° ìœ„í•œ ìŠ¤í¬ë¦½íŠ¸ë“¤ì´ í¬í•¨ë˜ì–´ ìˆìŠµë‹ˆë‹¤.

## ğŸ“ íŒŒì¼ ëª©ë¡

- `setup-integration-tests.sh` - Linux/Macìš© í†µí•© í…ŒìŠ¤íŠ¸ í™˜ê²½ ì„¤ì • ìŠ¤í¬ë¦½íŠ¸
- `setup-integration-tests.bat` - Windowsìš© í†µí•© í…ŒìŠ¤íŠ¸ í™˜ê²½ ì„¤ì • ìŠ¤í¬ë¦½íŠ¸

## ğŸš€ ë¹ ë¥¸ ì‹œì‘

### Linux/Mac ì‚¬ìš©ì

```bash
npm run test:setup
```

### Windows ì‚¬ìš©ì

```cmd
npm run test:setup:win
```

## ğŸ“‹ ìŠ¤í¬ë¦½íŠ¸ê°€ ìˆ˜í–‰í•˜ëŠ” ì‘ì—…

1. **Docker Desktop í™•ì¸** - Dockerê°€ ì‹¤í–‰ ì¤‘ì¸ì§€ í™•ì¸
2. **ê¸°ì¡´ í…ŒìŠ¤íŠ¸ DB ì •ë¦¬** - ì´ì „ í…ŒìŠ¤íŠ¸ DB ì»¨í…Œì´ë„ˆ ì •ë¦¬
3. **í…ŒìŠ¤íŠ¸ DB ì‹œì‘** - ìƒˆë¡œìš´ í…ŒìŠ¤íŠ¸ DB ì»¨í…Œì´ë„ˆ ì‹œì‘
4. **DB ì¤€ë¹„ ëŒ€ê¸°** - PostgreSQLì´ ì™„ì „íˆ ì¤€ë¹„ë  ë•Œê¹Œì§€ ëŒ€ê¸°
5. **í™˜ê²½ë³€ìˆ˜ ì„¤ì •** - í…ŒìŠ¤íŠ¸ìš© í™˜ê²½ë³€ìˆ˜ ì„¤ì •
6. **Prisma í´ë¼ì´ì–¸íŠ¸ ìƒì„±** - Prisma í´ë¼ì´ì–¸íŠ¸ ì¬ìƒì„±
7. **ë§ˆì´ê·¸ë ˆì´ì…˜ ì‹¤í–‰** - í…ŒìŠ¤íŠ¸ DBì— ìŠ¤í‚¤ë§ˆ ì ìš©
8. **ìŠ¤í‚¤ë§ˆ í™•ì¸** - í…ŒìŠ¤íŠ¸ DB ìŠ¤í‚¤ë§ˆ ê²€ì¦

## ğŸ”§ ìˆ˜ë™ ì‹¤í–‰ ë°©ë²•

### 1. í…ŒìŠ¤íŠ¸ DB ì‹œì‘

```bash
npm run test:db:start
```

### 2. í…ŒìŠ¤íŠ¸ DB ì¤‘ì§€

```bash
npm run test:db:stop
```

### 3. í…ŒìŠ¤íŠ¸ DB ì¬ì„¤ì •

```bash
npm run test:db:reset
```

### 4. í†µí•© í…ŒìŠ¤íŠ¸ ì‹¤í–‰

```bash
npm run test:integration
```

### 5. ì „ì²´ í…ŒìŠ¤íŠ¸ í”„ë¡œì„¸ìŠ¤ (DB ì‹œì‘ â†’ í…ŒìŠ¤íŠ¸ â†’ DB ì¤‘ì§€)

```bash
npm run test:full
```

## ğŸ³ Docker ì»¨í…Œì´ë„ˆ ì •ë³´

- **í…ŒìŠ¤íŠ¸ DB í¬íŠ¸**: 5433
- **í…ŒìŠ¤íŠ¸ DB ì´ë¦„**: ballet_class_test_db
- **ì‚¬ìš©ì**: postgres
- **ë¹„ë°€ë²ˆí˜¸**: postgres

## ğŸ” ë¬¸ì œ í•´ê²°

### Docker Desktopì´ ì‹¤í–‰ë˜ì§€ ì•ŠëŠ” ê²½ìš°

1. Docker Desktopì„ ì„¤ì¹˜í•˜ê³  ì‹¤í–‰í•˜ì„¸ìš”
2. Docker Desktopì´ ì™„ì „íˆ ì‹œì‘ë  ë•Œê¹Œì§€ ê¸°ë‹¤ë¦¬ì„¸ìš”

### í¬íŠ¸ ì¶©ëŒì´ ë°œìƒí•˜ëŠ” ê²½ìš°

- 5433 í¬íŠ¸ê°€ ì´ë¯¸ ì‚¬ìš© ì¤‘ì¸ì§€ í™•ì¸í•˜ì„¸ìš”
- ë‹¤ë¥¸ PostgreSQL ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì¤‘ì§€í•˜ì„¸ìš”

### ë§ˆì´ê·¸ë ˆì´ì…˜ ì‹¤íŒ¨

```bash
# í…ŒìŠ¤íŠ¸ DB ì¬ì„¤ì • í›„ ë‹¤ì‹œ ì‹œë„
npm run test:db:reset
npm run test:setup
```

### ê¶Œí•œ ë¬¸ì œ (Linux/Mac)

```bash
# ìŠ¤í¬ë¦½íŠ¸ì— ì‹¤í–‰ ê¶Œí•œ ë¶€ì—¬
chmod +x scripts/setup-integration-tests.sh
```

## ğŸ“ í™˜ê²½ë³€ìˆ˜

ìŠ¤í¬ë¦½íŠ¸ê°€ ì„¤ì •í•˜ëŠ” í™˜ê²½ë³€ìˆ˜:

```bash
NODE_ENV=test
DATABASE_URL=postgresql://postgres:postgres@localhost:5433/ballet_class_test_db
JWT_SECRET=test-jwt-secret-key-for-testing-only
```

## ğŸ¯ ê¶Œì¥ ì›Œí¬í”Œë¡œìš°

1. **ì²« ë²ˆì§¸ ì„¤ì •**

   ```bash
   npm run test:setup
   ```

2. **ì¼ìƒì ì¸ í…ŒìŠ¤íŠ¸ ì‹¤í–‰**

   ```bash
   npm run test:integration
   ```

3. **ë¬¸ì œ ë°œìƒ ì‹œ ì¬ì„¤ì •**

   ```bash
   npm run test:db:reset
   npm run test:setup
   ```

4. **ì‘ì—… ì™„ë£Œ í›„ ì •ë¦¬**
   ```bash
   npm run test:db:stop
   ```
